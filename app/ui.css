/* ==== Uploader (colorful) ==== */
.u-dropzone {
  position: relative;
  border-radius: 1rem;
  cursor: pointer;
  isolation: isolate;
  transition: transform .25s ease, filter .25s ease;
  will-change: transform, filter;
}

.u-dropzone .u-dropzone-inner {
  position: relative;
  border-radius: 1rem;
  padding: 2rem 1rem;
  overflow: hidden;

  /* gradient border via layered backgrounds (now with more colors) */
  border: 2px solid transparent;
  background:
    linear-gradient(#0b0f17, #0b0f17) padding-box,
    conic-gradient(
      from 0deg at 50% 50%,
      #8b5cf6,
      #22d3ee,
      #06b6d4,
      #3b82f6,
      #67e8f9,
      #22c55e,
      #a3e635,
      #fbbf24,
      #f59e0b,
      #f43f5e,
      #ef4444,
      #ff00cc,
      #8b5cf6
    ) border-box;

  box-shadow:
    0 14px 40px rgba(0,0,0,.35),
    inset 0 0 0 1px rgba(255,255,255,.04);
}

/* dreamy colorful fog behind the content, with subtle hue rotation */
.u-kaleido {
  position: absolute;
  inset: -35%;
  background:
    radial-gradient(50% 60% at 18% 28%, rgba(139,92,246,.50), transparent 60%),
    radial-gradient(46% 52% at 82% 70%, rgba(34,197,94,.42), transparent 56%),
    radial-gradient(45% 50% at 50% 85%, rgba(6,182,212,.42), transparent 60%),
    radial-gradient(44% 48% at 22% 82%, rgba(255,0,204,.35), transparent 62%),
    radial-gradient(46% 46% at 78% 18%, rgba(251,191,36,.35), transparent 62%),
    conic-gradient(from 0deg at 50% 50%, rgba(255,255,255,.00) 0deg, rgba(255,255,255,.06) 60deg, rgba(255,255,255,.00) 360deg);
  filter: blur(56px) saturate(125%) hue-rotate(0deg);
  transform: rotate(0deg) scale(1.12);
  opacity: .64;
  pointer-events: none;
  animation:
    kaleido-spin 26s linear infinite,
    hue-sweep 18s linear infinite;
  will-change: transform, opacity, filter;
}

@keyframes kaleido-spin {
  to { transform: rotate(360deg) scale(1.12); }
}
@keyframes hue-sweep {
  0%   { filter: blur(56px) saturate(125%) hue-rotate(0deg); }
  50%  { filter: blur(56px) saturate(135%) hue-rotate(22deg); }
  100% { filter: blur(56px) saturate(125%) hue-rotate(0deg); }
}

/* rim helper (kept subtle) */
.u-border {
  position: absolute;
  inset: 0;
  border-radius: 1rem;
  padding: 1px;
  background: linear-gradient(135deg, #8b5cf6, #06b6d4);
  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude;
  z-index: 1;
  pointer-events: none;
}

/* premium moving sheen across the dropzone */
.u-dropzone .u-dropzone-inner::after {
  content: "";
  position: absolute;
  inset: 0;
  background:
    linear-gradient(120deg, rgba(255,255,255,0) 35%, rgba(255,255,255,.08) 50%, rgba(255,255,255,0) 65%);
  transform: translateX(-120%) skewX(-16deg);
  animation: sheen-sweep 4.6s ease-in-out infinite;
  pointer-events: none;
  z-index: 1;
}
@keyframes sheen-sweep {
  0%, 25%   { transform: translateX(-120%) skewX(-16deg); }
  55%       { transform: translateX(120%)  skewX(-16deg); }
  100%      { transform: translateX(120%)  skewX(-16deg); }
}

.u-content {
  position: relative;
  z-index: 2;
  text-align: center;
  color: #e8eefc;
}

.u-icon {
  font-size: 2rem;
  line-height: 1;
  margin-bottom: .25rem;
}

.u-title {
  font-weight: 800;
  font-size: 1.35rem;
  letter-spacing: .2px;
}

.u-sub {
  font-size: .9rem;
  opacity: .9;
  margin-bottom: .6rem;
}

.u-cta { margin-top: .4rem; }
.u-input { display: none; }

/* drag/hover emphasis */
.u-dropzone:hover .u-kaleido,
.u-dropzone.is-dragging .u-kaleido {
  animation-duration: 12s;
  opacity: .82;
  filter: blur(46px) saturate(145%);
}

.u-dropzone:hover,
.u-dropzone.is-dragging {
  transform: translateY(-1px);
  filter: drop-shadow(0 10px 30px rgba(72, 0, 255, .18));
}

/* selected file row + error text */
.u-file-row {
  display: flex;
  align-items: center;
  gap: .75rem;
  margin-top: .9rem;
}

.u-file-name {
  flex: 1;
  min-width: 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-size: .9rem;
  color: #cbd5e1;
}

.u-err {
  margin-top: .6rem;
  color: #fecaca;
  font-size: .9rem;
}

/* ==== Layout alignment for uploader + styles (ensures same width) ==== */
#uploader {
  max-width: 1280px; /* matches Tailwind max-w-7xl */
  margin-left: auto;
  margin-right: auto;
}

#uploader .card { width: 100%; }

#uploader .u-dropzone,
#uploader .u-dropzone-inner {
  width: 100%;
  box-sizing: border-box;
}

/* Add a little vertical rhythm between dropzone and styles grid */
#uploader .style-grid { margin-top: 1rem; }

/* ==== CTA Buttons (Hero) ==== */
/* Start Remixing: vibrant indigo→cyan pill with animated gradient and sheen */
.btn {
  --btn-from: #6366f1;
  --btn-to:   #22d3ee;

  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: .5rem;

  padding: .85rem 1.25rem;
  border-radius: 9999px;
  border: none;
  color: #ffffff;
  font-weight: 800;
  letter-spacing: .2px;
  text-decoration: none;

  background: linear-gradient(135deg, var(--btn-from), var(--btn-to));
  background-size: 200% 200%;
  animation: btn-gradient-move 6s ease infinite;

  box-shadow:
    0 12px 28px rgba(34,211,238,.25),
    0 4px 10px rgba(99,102,241,.25);
  position: relative;
  overflow: hidden;
  transition: transform .15s ease, box-shadow .15s ease, filter .15s ease;
}

.btn::before {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(120deg, rgba(255,255,255,0) 30%, rgba(255,255,255,.20) 50%, rgba(255,255,255,0) 70%);
  transform: translateX(-140%) skewX(-18deg);
  transition: transform .6s ease;
  pointer-events: none;
}
.btn:hover::before { transform: translateX(140%) skewX(-18deg); }

.btn:hover {
  transform: translateY(-1px);
  filter: brightness(1.05);
  box-shadow:
    0 16px 34px rgba(34,211,238,.28),
    0 6px 14px rgba(99,102,241,.30);
}
.btn:active { transform: translateY(0); }

@keyframes btn-gradient-move {
  0%   { background-position: 0% 50%; }
  50%  { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* Go Pro: luxe gold pill with shimmering gradient */
.btn.secondary {
  --btn-from: #f59e0b; /* amber-500 */
  --btn-to:   #fbbf24; /* amber-400 */

  color: #1b1000;
  text-shadow: 0 1px 0 rgba(255,255,255,.25);

  background-image:
    linear-gradient(135deg, rgba(255,255,255,.15), rgba(255,255,255,0) 30%),
    linear-gradient(135deg, var(--btn-from), var(--btn-to));
  background-size: 180% 180%, 180% 180%;
  animation: btn-gold-move 7s ease infinite;

  box-shadow:
    0 12px 28px rgba(245,158,11,.28),
    0 6px 16px rgba(251,191,36,.35),
    inset 0 1px 0 rgba(255,255,255,.35);
}
.btn.secondary:hover {
  filter: brightness(1.06) saturate(1.05);
  box-shadow:
    0 16px 34px rgba(245,158,11,.34),
    0 8px 20px rgba(251,191,36,.42),
    inset 0 1px 0 rgba(255,255,255,.45);
}
@keyframes btn-gold-move {
  0%   { background-position: 0% 0%,   0% 100%; }
  50%  { background-position: 100% 100%, 100% 0%; }
  100% { background-position: 0% 0%,   0% 100%; }
}

/* Keyboard focus */
.btn:focus-visible {
  outline: 3px solid rgba(255,255,255,.85);
  outline-offset: 2px;
}

/* ==== Style grid: 2 cols (base) → 3 cols (md) → 4 cols (xl) ==== */
.style-grid {
  display: grid;
  gap: .75rem;
  grid-template-columns: 1fr 1fr; /* 2 columns by default */
}

@media (min-width: 768px) {
  .style-grid { grid-template-columns: 1fr 1fr 1fr; } /* 3 columns */
}

@media (min-width: 1280px) {
  .style-grid { grid-template-columns: 1fr 1fr 1fr 1fr; } /* 4 columns */
}

/* ==== Style chips (GLOWY) ==== */
:root {
  /* fallbacks if a chip doesn't set per-style variables/classes */
  --chip-from: #6ee7f9;
  --chip-to:   #a78bfa;
  --chip-from-glow: rgba(110,231,249,.60);
  --chip-to-glow:   rgba(167,139,250,.55);
  --chip-ring:      rgba(99,102,241,.45);
}

.style-chip {
  position: relative;
  display: flex;
  align-items: center;
  gap: .6rem;
  width: 100%;
  border: none;
  border-radius: .9rem;
  padding: .85rem 1rem;
  color: #0b0f19;
  font-weight: 800;
  text-align: left;
  isolation: isolate;
  overflow: hidden;

  /* base gradient (used if component doesn't set inline background) */
  background: linear-gradient(135deg, var(--chip-from), var(--chip-to));

  /* subtle depth */
  box-shadow:
    0 10px 26px rgba(0,0,0,.25),
    inset 0 0 0 1px rgba(255,255,255,.06);
  transition: transform .15s ease, box-shadow .15s ease, filter .15s ease;
}

/* ambient glow layer */
.style-chip::before {
  content: "";
  position: absolute;
  inset: -30%;
  background:
    radial-gradient(40% 60% at 20% 25%, var(--chip-from-glow), transparent 60%),
    radial-gradient(45% 45% at 80% 75%, var(--chip-to-glow),   transparent 55%);
  filter: blur(22px) saturate(135%);
  opacity: .70;
  z-index: 0;
  transition: opacity .2s ease, filter .2s ease, transform .2s ease;
}

/* gradient rim */
.style-chip::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  padding: 1px;
  background: linear-gradient(135deg, var(--chip-from), var(--chip-to));
  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude;
  opacity: .55;
  pointer-events: none;
  z-index: 1;
}

/* foreground content stays above glows */
.style-chip > * { position: relative; z-index: 2; }

.style-chip:hover {
  transform: translateY(-1px);
  box-shadow:
    0 14px 30px rgba(0,0,0,.32),
    0 0 22px var(--chip-ring);
  filter: brightness(1.03);
}

.style-chip:hover::before {
  opacity: .92;
  filter: blur(28px) saturate(150%);
  transform: scale(1.02);
}

.style-chip.is-selected {
  outline: 2px solid #fff;
  outline-offset: 0;
  box-shadow:
    0 18px 36px rgba(0,0,0,.34),
    0 0 28px var(--chip-ring);
}

/* chip inner bits */
.chip-label {
  flex: 1;
  min-width: 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.chip-pro {
  font-size: .7rem;
  font-weight: 800;
  color: #fff;
  background: rgba(0,0,0,.35);
  padding: .2rem .45rem;
  border-radius: .5rem;
}

.chip-lock {
  position: absolute;
  right: .5rem;
  top: .45rem;
  font-size: .95rem;
  filter: drop-shadow(0 2px 8px rgba(0,0,0,.35));
  pointer-events: none;
}

.style-chip.is-locked { cursor: pointer; }

/* ==== Per-style color variables (ALL 24 styles) ==== */
/* Free */
.style-chip.anime, .style-chip[data-key="anime"], .style-chip--anime {
  --chip-from:#a78bfa; --chip-to:#6366f1;
  --chip-from-glow:rgba(167,139,250,.65); --chip-to-glow:rgba(99,102,241,.55);
  --chip-ring:rgba(99,102,241,.45);
}
.style-chip.cartoon, .style-chip[data-key="cartoon"], .style-chip--cartoon {
  --chip-from:#f59e0b; --chip-to:#ef4444;
  --chip-from-glow:rgba(245,158,11,.60); --chip-to-glow:rgba(239,68,68,.55);
  --chip-ring:rgba(239,68,68,.42);
}
.style-chip.cin_lite, .style-chip[data-key="cin_lite"], .style-chip--cin_lite {
  --chip-from:#64748b; --chip-to:#334155;
  --chip-from-glow:rgba(100,116,139,.55); --chip-to-glow:rgba(51,65,85,.50);
  --chip-ring:rgba(100,116,139,.38);
}
.style-chip.cool, .style-chip[data-key="cool"], .style-chip--cool {
  --chip-from:#06b6d4; --chip-to:#3b82f6;
  --chip-from-glow:rgba(6,182,212,.60); --chip-to-glow:rgba(59,130,246,.55);
  --chip-ring:rgba(59,130,246,.42);
}
.style-chip.warm, .style-chip[data-key="warm"], .style-chip--warm {
  --chip-from:#f97316; --chip-to:#f43f5e;
  --chip-from-glow:rgba(249,115,22,.60); --chip-to-glow:rgba(244,63,94,.55);
  --chip-ring:rgba(244,63,94,.42);
}
.style-chip.noir, .style-chip[data-key="noir"], .style-chip--noir {
  --chip-from:#9ca3af; --chip-to:#4b5563;
  --chip-from-glow:rgba(156,163,175,.55); --chip-to-glow:rgba(75,85,99,.50);
  --chip-ring:rgba(156,163,175,.38);
}
.style-chip.vhs, .style-chip[data-key="vhs"], .style-chip--vhs {
  --chip-from:#f43f5e; --chip-to:#f59e0b;
  --chip-from-glow:rgba(244,63,94,.60); --chip-to-glow:rgba(245,158,11,.55);
  --chip-ring:rgba(244,63,94,.42);
}
.style-chip.pop, .style-chip[data-key="pop"], .style-chip--pop {
  --chip-from:#67e8f9; --chip-to:#0ea5e9;
  --chip-from-glow:rgba(103,232,249,.60); --chip-to-glow:rgba(14,165,233,.55);
  --chip-ring:rgba(14,165,233,.42);
}

/* Pro */
.style-chip.anime_plus, .style-chip[data-key="anime_plus"], .style-chip--anime_plus {
  --chip-from:#8b5cf6; --chip-to:#22d3ee;
  --chip-from-glow:rgba(139,92,246,.62); --chip-to-glow:rgba(34,211,238,.55);
  --chip-ring:rgba(139,92,246,.44);
}
.style-chip.scifi_hud, .style-chip[data-key="scifi_hud"], .style-chip--scifi_hud {
  --chip-from:#00e5ff; --chip-to:#0061ff;
  --chip-from-glow:rgba(0,229,255,.62); --chip-to-glow:rgba(0,97,255,.55);
  --chip-ring:rgba(0,97,255,.44);
}
.style-chip.neonwave, .style-chip[data-key="neonwave"], .style-chip--neonwave {
  --chip-from:#ff00cc; --chip-to:#3333ff;
  --chip-from-glow:rgba(255,0,204,.62); --chip-to-glow:rgba(51,51,255,.55);
  --chip-ring:rgba(255,0,204,.44);
}
.style-chip.cin_pro, .style-chip[data-key="cin_pro"], .style-chip--cin_pro {
  --chip-from:#b08d57; --chip-to:#6b4f2a;
  --chip-from-glow:rgba(176,141,87,.58); --chip-to-glow:rgba(107,79,42,.52);
  --chip-ring:rgba(176,141,87,.42);
}
.style-chip.vintage, .style-chip[data-key="vintage"], .style-chip--vintage {
  --chip-from:#d97706; --chip-to:#b45309;
  --chip-from-glow:rgba(217,119,6,.58); --chip-to-glow:rgba(180,83,9,.52);
  --chip-ring:rgba(217,119,6,.40);
}
.style-chip.comic, .style-chip[data-key="comic"], .style-chip--comic {
  --chip-from:#f43f5e; --chip-to:#22c55e;
  --chip-from-glow:rgba(244,63,94,.58); --chip-to-glow:rgba(34,197,94,.52);
  --chip-ring:rgba(244,63,94,.40);
}
.style-chip.cyberpunk, .style-chip[data-key="cyberpunk"], .style-chip--cyberpunk {
  --chip-from:#ff00aa; --chip-to:#00e5ff;
  --chip-from-glow:rgba(255,0,170,.62); --chip-to-glow:rgba(0,229,255,.55);
  --chip-ring:rgba(255,0,170,.44);
}
.style-chip.watercolor, .style-chip[data-key="watercolor"], .style-chip--watercolor {
  --chip-from:#93c5fd; --chip-to:#a7f3d0;
  --chip-from-glow:rgba(147,197,253,.58); --chip-to-glow:rgba(167,243,208,.52);
  --chip-ring:rgba(147,197,253,.40);
}
.style-chip.glitch, .style-chip[data-key="glitch"], .style-chip--glitch {
  --chip-from:#0ea5e9; --chip-to:#6366f1;
  --chip-from-glow:rgba(14,165,233,.60); --chip-to-glow:rgba(99,102,241,.55);
  --chip-ring:rgba(14,165,233,.42);
}
.style-chip.sports, .style-chip[data-key="sports"], .style-chip--sports {
  --chip-from:#10b981; --chip-to:#22c55e;
  --chip-from-glow:rgba(16,185,129,.60); --chip-to-glow:rgba(34,197,94,.55);
  --chip-ring:rgba(16,185,129,.42);
}
.style-chip.wedding, .style-chip[data-key="wedding"], .style-chip--wedding {
  --chip-from:#f5d0fe; --chip-to:#fde68a;
  --chip-from-glow:rgba(245,208,254,.60); --chip-to-glow:rgba(253,230,138,.55);
  --chip-ring:rgba(245,208,254,.40);
}
.style-chip.kids, .style-chip[data-key="kids"], .style-chip--kids {
  --chip-from:#f9a8d4; --chip-to:#a7f3d0;
  --chip-from-glow:rgba(249,168,212,.60); --chip-to-glow:rgba(167,243,208,.55);
  --chip-ring:rgba(249,168,212,.40);
}
.style-chip.stream, .style-chip[data-key="stream"], .style-chip--stream {
  --chip-from:#3b82f6; --chip-to:#0ea5e9;
  --chip-from-glow:rgba(59,130,246,.60); --chip-to-glow:rgba(14,165,233,.55);
  --chip-ring:rgba(59,130,246,.42);
}
.style-chip.nightcity, .style-chip[data-key="nightcity"], .style-chip--nightcity {
  --chip-from:#0ea5e9; --chip-to:#7c3aed;
  --chip-from-glow:rgba(14,165,233,.60); --chip-to-glow:rgba(124,58,237,.55);
  --chip-ring:rgba(124,58,237,.42);
}
.style-chip.desert, .style-chip[data-key="desert"], .style-chip--desert {
  --chip-from:#f59e0b; --chip-to:#eab308;
  --chip-from-glow:rgba(245,158,11,.60); --chip-to-glow:rgba(234,179,8,.55);
  --chip-ring:rgba(245,158,11,.42);
}
.style-chip.arctic, .style-chip[data-key="arctic"], .style-chip--arctic {
  --chip-from:#67e8f9; --chip-to:#60a5fa;
  --chip-from-glow:rgba(103,232,249,.60); --chip-to-glow:rgba(96,165,250,.55);
  --chip-ring:rgba(96,165,250,.42);
}

/* ==== High-specificity safety net (wins older rules) ==== */
#uploader .style-grid { grid-template-columns: repeat(2, 1fr) !important; }
@media (min-width: 768px) {
  #uploader .style-grid { grid-template-columns: repeat(3, 1fr) !important; }
}
@media (min-width: 1280px) {
  #uploader .style-grid { grid-template-columns: repeat(4, 1fr) !important; }
}

/* respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .u-kaleido { animation: none; filter: blur(50px) saturate(120%); }
  .u-dropzone .u-dropzone-inner::after { animation: none; opacity: .0; }
  .btn { animation: none; }
  .btn.secondary { animation: none; }
}
